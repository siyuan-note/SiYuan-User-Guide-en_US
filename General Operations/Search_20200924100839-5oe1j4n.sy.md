## Search function

Search mainly involves three functional points:

* Global text search, trigger the search box via <kbd>Ctrl P</kbd> / <kbd>âŒ˜ P</kbd>
* Content block reference/embedded search, in the editor document by typing `((keyword` to trigger
* Relation graph search, filter nodes and connections based on keywords in the relation graph

## Type filtering

If the search keyword starts with the following characters, type filtering is enabled.

* `d` Document block
* `#` Heading block
* `*` List block (including ordered list block, unordered list block and task list block)
* `-` List item block
* `` ` `` Code block
* `>` Blockquote block
* `$` Mathematical formula block
* `p` Paragraph block

For example, if you want to search for all heading blocks containing `Markdown`, you can use `#Markdown` as the search criteria.

## For geeks...

Global text search support:

* Regular expression
* SQL

For SQL search, use the built-in SQLite database (system temporary folder/siyuan/siyuan.db). The databse is created temporarily and only exists while the kernel is running.

### `blocks` table

This table is used to store content block data.

|    Field |  Type  | Description                                             |
| -------: | :-----: | ------------------------------------------------------- |
|       id | integer | Incremental primary key                                 |
| block_id |  text  | Content block ID                                        |
|      box |  text  | Notebook name                                           |
|     path |  text  | Path of the document where the content block is located |
|  tree_id |  text  | AST ID                                                  |
|  content |  text  | Content block Markdown                                  |
|     type |  text  | Content block type                                      |

Example:

```sql
SELECT * FROM blocks WHERE content LIKE'%content block%' AND type ='NodeParagraph'
```

List of `type` content block type values:

* `NodeDocument` document block
* `NodeHeading` header block
* `NodeParagraph` paragraph block
* `NodeList` list block
* `NodeListItem` list item block
* `NodeMathBlock` Mathematical formula block
* `NodeCodeBlock` code block
* `NodeBlockquote` block quote block
* `NodeTable` table block
